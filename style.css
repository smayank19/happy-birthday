@import url('https://fonts.googleapis.com/css2?family=Baloo+Bhai+2:wght@400..800&family=Indie+Flower&family=Luckiest+Guy&family=Martel+Sans:wght@200;300;400;600;700;800;900&family=Michroma&family=Rubik+Mono+One&display=swap');

* { 
  margin: 0; 
  padding: 0; 
  box-sizing: border-box; 
  user-select: none; /* prevent text selection while dragging */
}

body {
  display: flex; 
  justify-content: center; 
  align-items: center;
  height: 100vh;
  background: linear-gradient(135deg,#1a2a6c,#b21f1f,#fdbb2d);
  overflow: hidden; 
  font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
}

/* Front page background media */
.front-media {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;  
  z-index: -1;        
}

/* Landscape by default */
#frontVideoPortrait {
  display: none;
}

/* Portrait orientation → show portrait video, hide landscape */
@media screen and (orientation: portrait) {
  #frontVideoLandscape { display: none !important; }
  #frontVideoPortrait { display: block !important; }
}

/* --- Launcher style --- */
.launcher {
  position: absolute;
  bottom: 12px;
  left: 50%;
  transform: translateX(-50%);
  width: 55px;
  height: 55px;
  background: rgba(255,255,255,0.15);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  transition: transform 0.3s ease, background 0.3s ease;
  z-index: 1001;
  backdrop-filter: blur(10px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.3);
}
.launcher:hover { 
  transform: translateX(-50%) scale(1.05); 
  background: rgba(255,255,255,0.25); 
}

/* Container for boxes */
.main_box {
  position: absolute;
  bottom: 130px;
  left: 50%;
  transform: translateX(-50%) scale(0);
  width: 300px; 
  height: 200px;
  perspective: 1000px;
  display: flex; 
  justify-content: center; 
  align-items: flex-end;
  transition: transform 0.5s ease;
  pointer-events: none; 
  z-index: 1000;
}
.main_box.active { 
  transform: translateX(-50%) scale(1); 
  pointer-events: auto; 
}

/* Glass effect boxes with images */
.box {
  position: absolute; 
  width: 80px; 
  height: 120px;
  background: rgba(255,255,255,0.15); 
  border-radius: 15px;
  display: flex; 
  justify-content: center; 
  align-items: center;
  cursor: grab;
  backdrop-filter: blur(10px); 
  box-shadow: 0 6px 20px rgba(0,0,0,0.25);
  transition: transform 0.3s ease-in-out, 
              background 0.3s ease, 
              filter 0.3s ease-in-out, 
              opacity 0.3s ease-in-out;
}

.box img {
  width: 100%;
  height: 100%;
  border-radius: 15px;
  pointer-events: none; /* allow drag through image */
}

.box:active {
  cursor: grabbing;
}

.box:hover { 
  background: rgba(255,255,255,0.25); 
}

/* Positions */
.pos1 { 
  transform: translateX(-120px) scale(0.8) rotateY(40deg); 
  z-index: 1; 
  filter: blur(4px); 
  opacity: 0.5; 
}
.pos2 { 
  transform: translateX(0) scale(1.1) rotateY(0deg); 
  z-index: 2; 
  filter: blur(0); 
  opacity: 1; 
}
.pos3 { 
  transform: translateX(120px) scale(0.8) rotateY(-40deg); 
  z-index: 1; 
  filter: blur(4px); 
  opacity: 0.5; 
}

/* Fullscreen video */
.video-player {
  position: fixed; 
  top: 0; 
  left: 0; 
  width: 100vw; 
  height: 100vh;
  background: black; 
  display: none; 
  justify-content: center; 
  align-items: center;
  z-index: 999;
}
.video-player.active { 
  display: flex; 
}
.video-player video { 
  width: 100%; 
  height: 100%; 
  object-fit: cover; 
  -webkit-playsinline: true;
  playsinline: true;
}

/* iPhone/iPad Safari fix — force inline video */
video {
  -webkit-transform: translateZ(0); /* force GPU rendering */
  -webkit-overflow-scrolling: touch;
  -webkit-playsinline: true;
  playsinline: true;
}

/* Fullscreen button */
.fullscreen-btn, .close-btn {
  display: none; /* hidden by default */
  position: fixed;
  bottom: 12px;
  width: 30px;
  height: 30px;
  background-color: rgba(255,255,255,0.15);
  border-radius: 50%;
  display: flex;
  justify-content: center;
  align-items: center;
  cursor: pointer;
  transition: transform 0.3s ease, background 0.3s ease;
  z-index: 1003;
  backdrop-filter: blur(10px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.3);
  border: 0px solid rgba(255,255,255,0.3);
}

.fullscreen-btn img, .close-btn img {
  width: 98%;
  height: 98%;
  pointer-events: none;
  color: black;
}

.video-player.active .fullscreen-btn { display: flex; right: 80px; }
.video-player.active .close-btn { display: flex; right: 15px; }

.fullscreen-btn:hover, .close-btn:hover { 
  transform: scale(1.05); 
  background: rgba(255,255,255,0.25); 
}

/* Force landscape look on portrait phones */
@media screen and (orientation: portrait) {
  .video-player video { 
    transform: rotate(90deg); 
    width: 100vh; 
    height: auto; 
    object-fit: cover;
  }
}

/* Portrait video: fill screen height */
@media screen and (orientation: portrait) {
  #frontVideoPortrait {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  #frontVideoLandscape {
    display: none !important;
  }
}

/* ====================== RESPONSIVE QUERIES ====================== */

/* Small phones (portrait, < 420px) */
@media (max-width: 420px) {
  .launcher { width: 35px; height: 35px; }
  .close-btn, .fullscreen-btn { width: 25px; height: 25px; }
  .main_box { width: 220px; height: 160px; bottom: 100px; }
  .box { width: 60px; height: 90px; }
}

/* Medium phones (421px – 600px) */
@media (min-width: 421px) and (max-width: 600px) {
  .launcher { width: 38px; height: 38px; }
  .close-btn, .fullscreen-btn { width: 28px; height: 28px; }
  .main_box { width: 260px; height: 180px; bottom: 110px; }
  .box { width: 70px; height: 100px; }
}

/* Large phones & small tablets (601px – 768px) */
@media (min-width: 601px) and (max-width: 768px) {
  .launcher { width: 42px; height: 42px; }
  .close-btn, .fullscreen-btn { width: 32px; height: 32px; }
  .main_box { width: 300px; height: 200px; bottom: 120px; }
  .box { width: 80px; height: 120px; }
}

/* Tablets (769px – 900px) */
@media (min-width: 769px) and (max-width: 900px) {
  .launcher { width: 46px; height: 46px; }
  .close-btn, .fullscreen-btn { width: 36px; height: 36px; }
  .main_box { width: 320px; height: 210px; bottom: 125px; }
  .box { width: 85px; height: 125px; }
}

/* Larger tablets (901px – 1024px) */
@media (min-width: 901px) and (max-width: 1024px) {
  .launcher { width: 50px; height: 50px; }
  .close-btn, .fullscreen-btn { width: 40px; height: 40px; }
  .main_box { width: 340px; height: 220px; bottom: 130px; }
  .box { width: 90px; height: 130px; }
}
